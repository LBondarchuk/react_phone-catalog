(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{74:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var s=c(20),i=c.n(s),n=c(7),r=c(12),a=c(5),o=c(2),l=(c(73),c(74),c(0)),j=c.n(l),u=c(4),d=c(6),b=c.n(d),h=c(1),m=function(e){var t=e.type,c=e.onChangePosition,s=e.stop;return Object(h.jsx)("button",{type:"submit",className:"arrow__button arrow__button--".concat(t),onClick:c,disabled:s,children:Object(h.jsx)("img",{src:"assests/images/Arrow-right".concat(s?"-gray":"",".svg"),alt:"arrow button"})})},O=Object(l.memo)((function(e){var t=e.subtitle,c=e.title;return Object(h.jsxs)("div",{className:"title",children:[Object(h.jsx)("h1",{className:"title__title",children:c}),(t>0||"Favourites"===c)&&Object(h.jsx)("div",{className:"title__subtitle",children:"".concat(t," items")})]})})),x=c(34),f=["phones","tablets","accessories"],g=["github","contacts","rights"],p=["phones","tablets","accessories"],v=["Screen","Resolution","Processor","Ram"],_=["Screen","Resolution","Processor","RAM","Built in memory","Camera","Zoom","Cell"],y=["Screen","Capacity","Ram"],N=Object(l.memo)((function(e){var t=e.itemsLength,c=Object(x.a)({threshold:.1,triggerOnce:!0}),s=c.ref,i=c.inView;return Object(h.jsx)("section",{className:"categories","data-cy":"categoryLinksContainer",ref:s,children:Object(h.jsxs)("div",{className:"categories__content",children:[Object(h.jsx)("h1",{className:"categories__title",children:"Shop by category"}),Object(h.jsx)("article",{className:"categories__items",children:i&&f.map((function(e){return Object(h.jsxs)(n.b,{to:e.toLowerCase(),className:"categories__item",children:[Object(h.jsx)("img",{src:"img/".concat(e,".png"),alt:"".concat(e," foto")}),Object(h.jsx)("div",{className:"categories__item--title",children:e[0].toUpperCase()+e.slice(1)}),Object(h.jsx)("div",{className:"categories__item--total-amount",children:"".concat(e===f[0]?t:0," models")})]},e)}))})]})})})),w=function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)(B,{}),Object(h.jsx)("div",{className:"footer__nav",children:Object(h.jsx)(T,{items:g})}),Object(h.jsxs)("button",{type:"button",onClick:function(){return window.scrollTo({top:0})},className:"footer__action link",children:[Object(h.jsx)("div",{className:"footer__action--description",children:"Go to top"}),Object(h.jsx)(m,{type:"up"})]})]})})},C=Object(l.memo)((function(){var e=Object(u.m)().pathname,t=["home"].concat(Object(r.a)(f)),c="/favourites"===e||"/phones"===e,s=Object(l.useState)(!1),i=Object(o.a)(s,2),n=i[0],a=i[1];Object(l.useEffect)((function(){var e=function(){return window.scrollTo(0,0)};return n&&window.addEventListener("scroll",e),function(){return removeEventListener("scroll",e)}}),[n]),Object(l.useEffect)((function(){window.scrollTo({top:0}),a(!1)}),[e]);return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsxs)("div",{className:"header__wrap-left",onScroll:function(e){return e.preventDefault()},children:[Object(h.jsx)(B,{}),Object(h.jsx)("button",{type:"button",onClick:function(){a(!n)},className:"header__wrap-left--show-menu",children:Object(h.jsx)("img",{src:"assests/images/".concat(n?"Close.svg":"Menu.png"),alt:"menu icon",width:20})})]}),Object(h.jsx)("div",{className:"header__nav",style:{left:n?0:"-800px"},children:Object(h.jsx)(T,{items:t})}),Object(h.jsxs)("div",{className:"header__wrap--right",children:[c&&!n&&Object(h.jsx)(L,{pathName:e.slice(1)}),Object(h.jsx)(ee,{})]})]})})),L=Object(l.memo)((function(e){var t=e.pathName,c=Object(n.c)(),s=Object(o.a)(c,2),i=s[0],r=s[1],a=i.get("query")||"",l=function(e){e?i.set("query",e):i.delete("query"),r(i)};return Object(h.jsxs)("div",{className:"search",children:[Object(h.jsx)("input",{type:"search",placeholder:"search in ".concat(t,"..."),value:a,onChange:function(e){return l(e.target.value)}}),a&&Object(h.jsx)("button",{type:"button",onClick:function(){return l("")},className:"cart__item--remove",children:Object(h.jsx)("img",{src:"assests/images/Close.svg",alt:"icon-minus"})}),Object(h.jsx)("img",{src:"assests/images/Search.svg",alt:"search icon"})]})})),k=c(19),P={min:{size:220,items:1},sm:{size:220,items:2},md:{size:220,items:3},lg:{size:220,items:4},xl:{size:272,items:4}},S=function(e){return P[e].size*P[e].items+16*P[e].items},E={min:{step:S("min"),items:1},sm:{step:S("sm"),items:2},md:{step:S("md"),items:3},lg:{step:S("lg"),items:4},xl:{step:S("xl"),items:4}},F={md:["15","6","3","all"],sm:["16","8","4","all"],lg:["16","8","4","all"],xl:["16","8","4","all"],min:["16","8","4","all"]},I={sm:5,md:13,lg:30,xl:30,min:3};function A(){var e=Object(l.useState)(window.innerWidth),t=Object(o.a)(e,2),c=t[0],s=t[1];Object(l.useEffect)((function(){function e(){s(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var i="xl";return c<1280&&(i="lg"),c<1024&&(i="md"),c<768&&(i="sm"),c<510&&(i="min"),{device:i,buttonWidth:32,main:P[i],SliderData:E[i],itemsOnPage:F[i],paginationLimit:I[i]}}var q=function(){var e=A().main;return Object(h.jsx)("div",{className:"card",children:e.size>700?Object(h.jsxs)(k.a,{speed:2,width:245,height:507,viewBox:"0 0 273 507",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"0",y:"-1",rx:"18",ry:"18",width:"230",height:"323"}),Object(h.jsx)("rect",{x:"0",y:"334",rx:"18",ry:"18",width:"230",height:"108"}),Object(h.jsx)("rect",{x:"0",y:"453",rx:"16",ry:"16",width:"230",height:"53"})]}):Object(h.jsxs)(k.a,{speed:2,width:245,height:450,viewBox:"0 0 273 507",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"10",y:"-1",rx:"18",ry:"18",width:"165",height:"250"}),Object(h.jsx)("rect",{x:"0",y:"280",rx:"18",ry:"18",width:"180",height:"120"}),Object(h.jsx)("rect",{x:"0",y:"420",rx:"16",ry:"16",width:"180",height:"60"})]})})},B=function(){return Object(h.jsx)(n.b,{to:"/",className:"logo",children:Object(h.jsx)("img",{src:"assests/images/Logo.svg",alt:""})})},T=function(e){var t=e.items,c=Object(u.m)().pathname,s=function(e){return"github"===e?"https://github.com/LBondarchuk/react_phone-catalog/tree/develop":"home"===e?"/":e};return Object(h.jsx)("nav",{className:"nav",children:Object(h.jsx)("ul",{className:"nav__list",children:t.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(n.b,{to:"".concat(s(e.toLowerCase())),className:b()("nav__item",{"nav__item--active":e.toLowerCase()===c.slice(1)||"home"===e&&"/"===c}),children:e})},e)}))})})},M=function(){var e=Object(u.m)(),t=e.pathname.split("/").slice(1),c=e.pathname.lastIndexOf("/"),s=e.pathname.slice(0,c);return Object(h.jsxs)("nav",{className:"bread-crumbs",children:[Object(h.jsxs)("div",{className:"bread-crumbs--path","data-cy":"BreadCrumbs",children:[Object(h.jsx)(n.b,{to:"/",className:"bread-crumbs--icon",children:Object(h.jsx)("img",{src:"assests/images/Home.svg",alt:"icon-home"})}),t.map((function(e,c){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:"bread-crumbs--arrow-left",children:Object(h.jsx)("img",{src:"assests/images/Arrow-right-gray.svg",alt:"icon-rigth"})},e+e[c+1]),e===t[t.length-1]?Object(h.jsx)("span",{children:e[0].toUpperCase()+e.slice(1)},e):Object(h.jsx)(n.b,{to:"/".concat(t.slice(0,t.indexOf(e)+1).join("/")),children:e[0].toUpperCase()+e.slice(1)})]})}))]}),Object(h.jsxs)(n.b,{to:s||"/",className:"bread-crumbs--go-back",children:[Object(h.jsx)("img",{src:"assests/images/Arrow-left.svg",alt:"icon-left"}),Object(h.jsx)("span",{"data-cy":"backButton",children:"Back"})]})]})},D=function(e){var t=e.paginationLength,c=A(),s=c.paginationLimit,i=c.device,r=Object(n.c)(),a=Object(o.a)(r,2),j=a[0],u=a[1],d=j.get("page")||1,O=j.get("perPage")||15,x=s<t,f=Object(l.useState)(x),g=Object(o.a)(f,2),p=g[0],v=g[1],_=Object(l.useState)(x?s:t),y=Object(o.a)(_,2),N=y[0],w=y[1],C=Object(l.useState)(1),L=Object(o.a)(C,2),k=L[0],P=L[1],S=+d-s>1||k>1,E=function(e){if(v(x&&+d!==t-1),j.set("page","".concat(e)),u(j),x){if(1===e)return w(s),P(e),void v(!0);if(e===t)return w(t),P(t-s),void v(!1);e<+d&&t-+d+1<s&&v(!1),+d===N&&+d<t&&(w((function(e){return e+1})),P((function(e){return e+1}))),+d===k&&+d>1&&(P((function(e){return e-1})),w((function(e){return e-1})))}};Object(l.useEffect)((function(){w(x?s:t),v(x)}),[O,i]);var F=function(){for(var e=[],t=function(t){e.push(Object(h.jsx)("li",{className:b()("pagination__item",{"is-active":+d===t}),onClick:function(){return E(t)},children:t},t))},c=k||1;c<=N;c+=1)t(c);return e}();return Object(h.jsxs)("section",{className:"pagination",children:[Object(h.jsx)(m,{type:"left",stop:1===+d,onChangePosition:function(){return E(+d-1)}}),S&&Object(h.jsx)("li",{className:b()("pagination__item",{"is-active":1===+d}),onClick:function(){return E(1)},children:"...1"},1),Object(h.jsx)("ul",{className:"pagination__list",children:F}),p&&Object(h.jsxs)("li",{className:b()("pagination__item",{"is-active":+d===t}),onClick:function(){return E(t)},children:["...",t]},t),Object(h.jsx)("div",{className:"right-button",children:Object(h.jsx)(m,{type:"right",stop:+d===t,onChangePosition:function(){return E(+d+1)}})})]})},z=j.a.createContext({editCartItem:function(){},addFavourite:function(){},cartList:[],favourites:[],isLoading:!1}),R=Object(l.memo)((function(e){var t=e.product,c=Object(l.useContext)(z),s=c.editCartItem,i=c.cartList,n=c.favourites,r=c.addFavourite,a={id:t.id,name:t.name,price:t.price,image:t.image,quantity:1},o=function(e){return e.some((function(e){return e.id===t.id}))};return Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{className:b()("actions--button",{"actions--button--disabled":o(i)}),onClick:function(){return s(a,null)},type:"submit",children:"Add to cart"}),Object(h.jsx)("button",{"data-cy":"addToFavorite",className:"actions--add-favorite",type:"submit",onClick:function(){return r(t)},children:Object(h.jsx)("img",{src:"assests/images/".concat(o(n)?"Favourites Filled.svg":"Favourites.svg"),alt:"heart-icon"})})]})})),J=function(e){var t=e.items,c=e.details,s=["object"===typeof c.cell?c.cell.join(","):null];return Object(h.jsx)("div",{className:"characteristics",children:Object(h.jsx)("div",{className:"characteristics__list",children:t.map((function(e){return Object(h.jsxs)("div",{className:"characteristics__item",children:[Object(h.jsx)("div",{className:"characteristics__item--name",children:e}),Object(h.jsx)("div",{className:"characteristics__item--characteristic",children:"Cell"===e?s:c[e.toLocaleLowerCase()]})]},e)}))})})},$=function(e){var t=e.children,c=Object(x.a)({threshold:0,triggerOnce:!0}),s=c.ref,i=c.inView;return Object(h.jsx)("div",{ref:s,style:{opacity:i?1:.5},children:t})},U=function(e){var t=e.product,c=Object(x.a)({threshold:.1,triggerOnce:!0}),s=c.ref,i=c.inView;return Object(h.jsx)("div",{ref:s,children:Object(h.jsx)($,{children:i?Object(h.jsxs)("article",{className:"card","data-cy":"cardsContainer",children:[Object(h.jsxs)(n.b,{to:"/phones/".concat(t.itemId),className:"link",children:[Object(h.jsx)("div",{className:"card__image",children:Object(h.jsx)("img",{src:t.image,alt:""})}),Object(h.jsx)("div",{className:"card__title",children:t.name}),Object(h.jsxs)("div",{className:"card__price",children:[Object(h.jsxs)("span",{className:"card__price--with-discont",children:["$",t.name.includes("11")&&t.fullPrice||t.price]}),Object(h.jsx)("span",{className:"card__price--without-discont",children:!t.name.includes("11")&&"$".concat(t.fullPrice)})]})]}),Object(h.jsx)(R,{product:t}),Object(h.jsx)(J,{details:t,items:y})]}):Object(h.jsx)(q,{})})})},V=function(e){return".".repeat(e).split("")},W=Object(l.memo)((function(e){var t=e.products,c=e.title,s=A().SliderData,i=s.step,n=s.items,r=Object(l.useContext)(z).isLoading,a=Object(l.useState)(-20),j=Object(o.a)(a,2),u=j[0],d=j[1],b=-i*(t.length/n)+i,O=function(e){d(u+e<b?b:u+e>0&&e>0?0:function(t){return t+e})};Object(l.useEffect)((function(){return d(0)}),[s]);var x=Object(l.useMemo)((function(){return V(4).map((function(){return Object(h.jsx)(q,{})}))}),[]);return Object(h.jsx)($,{children:Object(h.jsxs)("section",{className:"slider",children:[Object(h.jsxs)("div",{className:"slider__description",children:[Object(h.jsx)("h1",{className:"slider__title",children:c}),Object(h.jsxs)("nav",{className:"slider__navigation",children:[Object(h.jsx)(m,{type:"left",stop:0===u,onChangePosition:function(){return O(i)}}),Object(h.jsx)(m,{type:"right",stop:u===b,onChangePosition:function(){return O(-i)}})]})]}),Object(h.jsx)("div",{className:"slider__content",children:Object(h.jsx)("div",{className:"slider__list",style:{marginLeft:u},children:r?x:t.map((function(e){return Object(h.jsx)(U,{product:e},e.id)}))})})]})})})),H=c(82),G=c(65),Y=function(e){return e.Newest="Newest",e.Alphabetically="Alphabetically",e.Cheapest="Cheapest",e}({}),Z=function(){var e=A().itemsOnPage,t=Object(n.c)(),c=Object(o.a)(t,2),s=c[0],i=c[1],r=s.get("sort"),a=s.get("perPage"),j=function(e,t){s.set(e,t.toLowerCase()),"perPage"===e&&s.delete("page"),i(s)};return Object(l.useEffect)((function(){return i("")}),[e]),Object(h.jsxs)("div",{className:"dropdowns",children:[Object(h.jsxs)("div",{className:"dropdown__wrap",children:[Object(h.jsx)("p",{className:"mb-1 dropdown__lable",children:" Sort by"}),Object(h.jsx)(H.a,{id:"dropdown-item-button",title:"".concat((null===r||void 0===r?void 0:r.replace(r[0],r[0].toLocaleUpperCase()))||Y.Newest),children:Object.values(Y).map((function(e){return Object(h.jsx)(G.a.Item,{as:"button",onClick:function(){return j("sort",e)},children:e})}))})]}),Object(h.jsxs)("div",{className:"dropdown__wrap",children:[Object(h.jsx)("p",{className:"mb-1 dropdown__lable",children:" Items on page"}),Object(h.jsx)(H.a,{id:"dropdown-item-button",title:"".concat(a||e[0]),children:e.map((function(e){return Object(h.jsx)(G.a.Item,{as:"button",onClick:function(){return j("perPage",e)},children:e})}))})]})]})},K=c(84),Q=c(83),X=function(){return Object(h.jsx)(K.a,{style:{paddingLeft:"48px",paddingRight:"48px"},className:"mb-5",children:p.map((function(e){return Object(h.jsx)(K.a.Item,{interval:5e3,children:Object(h.jsx)(Q.a,{src:"img/banner-".concat(e,".png"),className:"slider__item",style:{objectFit:"cover"}})})}))})},ee=function(){var e=Object(l.useContext)(z),t=e.cartList,c=e.favourites;return Object(h.jsxs)("div",{className:"top-actions",children:[Object(h.jsxs)(n.b,{to:"/favourites",className:"icon icon-info",children:[c.length>0&&Object(h.jsx)("div",{className:"icon-info__info",children:c.length}),Object(h.jsx)("img",{src:"assests/images/Favourites.svg",alt:"heart icon"})]}),Object(h.jsxs)(n.b,{to:"/cart",className:"icon icon-info",children:[t.length>0&&Object(h.jsx)("div",{className:"icon-info__info",children:t.length}),Object(h.jsx)("img",{src:"assests/images/Cart.svg",alt:"cart icon"})]})]})},te=function(e){var t=e.details;return Object(h.jsx)($,{children:Object(h.jsxs)("section",{className:"details__about","data-cy":"productDescription",children:[Object(h.jsx)("div",{className:"details__about--title",children:"About"}),t.description.map((function(e){return Object(h.jsxs)("div",{className:"details__about--content",children:[Object(h.jsx)("div",{className:"details__about--content--title",children:e.title}),Object(h.jsx)("div",{className:"details__about--content--description",children:e.text})]})}))]})})},ce=function(e){var t=e.details;return Object(h.jsx)($,{children:Object(h.jsxs)("section",{children:[Object(h.jsx)("div",{className:"details__about--title",children:"Tech specs"}),t&&Object(h.jsx)(J,{details:t,items:_})]})})},se=function(e){var t=e.images,c=Object(l.useState)(t[0]),s=Object(o.a)(c,2),i=s[0],n=s[1];return Object(l.useEffect)((function(){return n(t[0])}),[t]),Object(h.jsxs)("section",{className:"details__galery",children:[Object(h.jsx)("ul",{className:"details__galery--small",children:t.map((function(e){return Object(h.jsx)("li",{className:"details__galery--small--item ".concat(i===e&&"active-border"),onClick:function(){return n(e)},children:Object(h.jsx)("img",{src:e,alt:"foto"})})}))}),Object(h.jsx)("div",{className:"details__galery--large",children:Object(h.jsx)("img",{src:i,alt:"main-foto"})})]})},ie=function(e){return e.black="#1F2020",e.rosegold="#FAD7BD",e.gold="#F5DDC5",e.silver="#E4E4E2",e.spacegray="#25282A",e.green="#AEE1CD",e.yellow="#FFE681",e.white="#FBF7F4",e.purple="#B8AFE6",e.re="#E23636",e.midnightgreen="#4E5851",e.coral="#EE7762",e.grey="#535150",e}({}),ne=function(e){var t=e.details,c=e.currentProduct,s=t.colorsAvailable,i=t.capacityAvailable,r=t.name,a=t.priceDiscount,o=t.priceRegular;return Object(h.jsxs)("section",{className:"details__characteristics",children:[Object(h.jsxs)("div",{className:"details__characteristics--select",children:[Object(h.jsx)("p",{className:"details__characteristics--select--title",children:"Aviliable colors"}),Object(h.jsx)("ul",{className:"details__characteristics--select--list",children:s.map((function(e){var s,i;return Object(h.jsx)("div",{className:b()("details__characteristics--color-border",{"active-border":null===(s=t.id)||void 0===s?void 0:s.includes(e)}),children:Object(h.jsx)("li",{children:Object(h.jsx)(n.b,{to:"/phones/".concat((null===(i=c.itemId)||void 0===i?void 0:i.slice(0,t.id.lastIndexOf("-")+1))+e),className:"details__characteristics--color-item",style:{background:ie[e]}})})})}))})]}),Object(h.jsxs)("div",{className:"details__characteristics--select",children:[Object(h.jsx)("p",{className:"details__characteristics--select--title",children:"Select capacity"}),Object(h.jsx)("ul",{className:"details__characteristics--select--list",children:i.map((function(e){var t;return Object(h.jsx)("li",{children:Object(h.jsx)(n.b,{to:"/phones/".concat(null===(t=c.itemId)||void 0===t?void 0:t.split("-").map((function(t){return t.includes("gb")?e.toLocaleLowerCase():t})).join("-")),className:b()("details__characteristics--capacity-item",{"is-active":r.includes(e)}),children:e})})}))})]}),Object(h.jsxs)("div",{className:"details__characteristics--price",children:[Object(h.jsx)("div",{className:"details__characteristics--price--without-discont",children:"$".concat(a)}),Object(h.jsx)("div",{className:"details__characteristics--price--with-discont",children:"$".concat(o)})]}),c&&Object(h.jsx)(R,{product:c}),t&&Object(h.jsx)(J,{details:t,items:v})]})};function re(e){return new Promise((function(t){return setTimeout(t,e)}))}var ae=function(){return Object(h.jsxs)(k.a,{speed:2,width:1042,height:1300,viewBox:"0 0 1042 1300",backgroundColor:"#f2f2f2",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"1070",height:"184"}),Object(h.jsx)("rect",{x:"0",y:"200",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"288",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"376",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"464",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"555",rx:"0",ry:"0",width:"80",height:"83"}),Object(h.jsx)("rect",{x:"170",y:"220",rx:"15",ry:"15",width:"300",height:"422"}),Object(h.jsx)("rect",{x:"650",y:"200",rx:"0",ry:"0",width:"300",height:"442"}),Object(h.jsx)("rect",{x:"0",y:"660",rx:"0",ry:"0",width:"532",height:"442"}),Object(h.jsx)("rect",{x:"550",y:"660",rx:"0",ry:"0",width:"532",height:"442"})]})},oe=function(){return Object(h.jsxs)(k.a,{speed:2,width:1042,height:1300,viewBox:"0 0 1042 1300",backgroundColor:"#f2f2f2",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"1070",height:"184"}),Object(h.jsx)("rect",{x:"0",y:"200",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"288",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"376",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"464",rx:"0",ry:"0",width:"80",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"555",rx:"0",ry:"0",width:"80",height:"83"}),Object(h.jsx)("rect",{x:"170",y:"220",rx:"15",ry:"15",width:"300",height:"422"}),Object(h.jsx)("rect",{x:"0",y:"690",rx:"0",ry:"0",width:"300",height:"442"}),Object(h.jsx)("rect",{x:"0",y:"1200",rx:"0",ry:"0",width:"532",height:"442"}),Object(h.jsx)("rect",{x:"0",y:"1860",rx:"0",ry:"0",width:"532",height:"442"})]})},le=function(){return Object(h.jsxs)(k.a,{speed:2,width:1042,height:1300,viewBox:"0 0 1042 1300",backgroundColor:"#f2f2f2",foregroundColor:"#ecebeb",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"1070",height:"184"}),Object(h.jsx)("rect",{x:"0",y:"200",rx:"0",ry:"0",width:"60",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"288",rx:"0",ry:"0",width:"60",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"376",rx:"0",ry:"0",width:"60",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"464",rx:"0",ry:"0",width:"60",height:"80"}),Object(h.jsx)("rect",{x:"0",y:"555",rx:"0",ry:"0",width:"60",height:"83"}),Object(h.jsx)("rect",{x:"80",y:"280",rx:"15",ry:"15",width:"195",height:"300"}),Object(h.jsx)("rect",{x:"0",y:"690",rx:"0",ry:"0",width:"272",height:"442"}),Object(h.jsx)("rect",{x:"0",y:"1200",rx:"0",ry:"0",width:"272",height:"442"}),Object(h.jsx)("rect",{x:"0",y:"1860",rx:"0",ry:"0",width:"272",height:"442"})]})},je=function(){var e=A().device,t=Object(h.jsx)(ae,{});return"lg"!==e&&(t="md"===e?Object(h.jsx)(oe,{}):Object(h.jsx)(le,{})),t},ue=function(e){var t=e.products,c=Object(l.useState)(),s=Object(o.a)(c,2),i=s[0],n=s[1],r=Object(u.q)().id,a=Object(l.useState)(!1),j=Object(o.a)(a,2),d=j[0],m=j[1],x=Object(l.useMemo)((function(){return t.find((function(e){return e.itemId===r}))}),[r,t]);return Object(l.useEffect)((function(){var e=setTimeout((function(){m(!0)}),100);(function(e){return re(0).then((function(){return fetch("products/".concat(e,".json"))})).then((function(e){return e.json()}))})(r).then((function(e){return n(e)})).finally((function(){clearInterval(e),m(!1)}))}),[r]),Object(h.jsxs)("main",{children:[Object(h.jsx)("div",{className:b()("block",{none:!d}),children:Object(h.jsx)(je,{})}),Object(h.jsxs)("div",{className:"details ".concat(i&&!d?"block":"none"),children:[Object(h.jsx)(M,{}),Object(h.jsx)(O,{title:null!==x&&void 0!==x&&x.name?null===x||void 0===x?void 0:x.name:"The address is not correct",subtitle:0}),Object(h.jsx)("div",{className:"details__blocks",children:i&&x&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(se,{images:null===i||void 0===i?void 0:i.images}),Object(h.jsx)(ne,{details:i,currentProduct:x}),Object(h.jsx)(te,{details:i}),Object(h.jsx)(ce,{details:i})]})}),Object(h.jsx)(W,{products:t,title:"You mau also like"})]})]})},de=c(86),be=c(85),he=function(){var e=Object(l.useContext)(z),t=e.cartList,c=e.editCartItem,s=Object(l.useState)(-700),i=Object(o.a)(s,2),n=i[0],r=i[1],a=Object(l.useMemo)((function(){return t.reduce((function(e,t){return e+t.price*t.quantity}),0)}),[t]);return Object(l.useEffect)((function(){var e=setTimeout((function(){return r(-700)}),5e3);return function(){return clearTimeout(e)}}),[n]),Object(h.jsxs)("main",{className:"cart",children:[Object(h.jsx)(O,{title:"Cart",subtitle:t.length}),Object(h.jsxs)("div",{className:"cart__total",children:[Object(h.jsxs)("div",{className:"cart__total--amount",children:[Object(h.jsx)("h1",{children:"$".concat(a)}),Object(h.jsx)("p",{children:"Total for ".concat(t.reduce((function(e,t){return e+t.quantity}),0)," items")})]}),t.length>0&&Object(h.jsx)("button",{type:"button",onClick:function(){return r(18)},children:"Checkout"})]}),Object(h.jsx)("div",{className:"cart__total--message",style:{right:n},children:Object(h.jsx)("span",{children:"The option will be available soon"})}),Object(h.jsx)("ul",{className:"cart__list",children:Object(h.jsx)(de.a,{className:"cart__list",children:t.map((function(e){return Object(h.jsx)(be.a,{timeout:500,classNames:"cart__item",children:Object(h.jsxs)("li",{className:"cart__item",children:[Object(h.jsx)("button",{type:"button",onClick:function(t){return function(e,t){e.preventDefault(),c(t,null)}(t,e)},className:"cart__item--remove",children:Object(h.jsx)("img",{src:"assests/images/Close.svg",alt:"icon close"})}),Object(h.jsx)("img",{src:"".concat(e.image),alt:"",className:"cart__item--img"}),Object(h.jsx)("span",{className:"cart__item--name",children:e.name}),Object(h.jsxs)("div",{className:"cart__item--panel",children:[Object(h.jsx)("button",{disabled:1===e.quantity,onClick:function(){return c(e,-1)},className:"cart__item--action",type:"submit",style:{pointerEvents:1===e.quantity?"none":"all"},children:Object(h.jsx)("img",{src:"assests/images/".concat(1===e.quantity?"Minus-disabled":"Minus",".svg"),alt:"icon minus"})}),Object(h.jsx)("span",{className:"cart__item--quantity",children:e.quantity}),Object(h.jsx)("button",{onClick:function(){return c(e,1)},className:"cart__item--action",type:"submit",children:Object(h.jsx)("img",{src:"assests/images/Plus.svg",alt:"icon plus"})})]}),Object(h.jsx)("span",{className:"cart__item--price",children:"$".concat(e.price)})]},e.id)},e.name)}))})})]})},me=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M,{}),Object(h.jsx)(O,{title:"Page under development...",subtitle:0})]})},Oe=function(){var e=Object(l.useContext)(z).favourites,t=Object(n.c)(),c=Object(o.a)(t,1)[0].get("query")||"",s=Object(l.useMemo)((function(){return e.filter((function(e){return e.name.toLocaleLowerCase().replaceAll(" ","").includes(c.toLocaleLowerCase())}))}),[c,e]);return Object(h.jsxs)("main",{className:"favourites page__container",children:[Object(h.jsx)(M,{}),Object(h.jsx)(O,{title:"Favourites",subtitle:e.length}),Object(h.jsx)("section",{className:"favourites__list",children:Object(h.jsx)(de.a,{className:"favourites__list","data-cy":"addToFavorite",children:s.map((function(e){return Object(h.jsx)(be.a,{timeout:500,classNames:"favourites__item",children:Object(h.jsx)("div",{className:"favourites__item",children:Object(h.jsx)(U,{product:e})})},e.name)}))})}),!s.length&&c&&Object(h.jsx)(O,{subtitle:0,title:"No matches found"})]})},xe=function(e){var t=e.products,c=Object(l.useMemo)((function(){return{hotPriceList:t.filter((function(e){return e.fullPrice&&!e.name.includes("11")})).sort((function(e,t){return t.fullPrice-t.price-(e.fullPrice-e.price)})),brandList:t.filter((function(e){return e.name.includes("11")})).sort((function(e,t){return t.price-e.price}))}}),[t]);return Object(h.jsxs)("main",{children:[Object(h.jsx)(X,{}),Object(h.jsx)(W,{products:c.hotPriceList,title:"Hot Prices"}),Object(h.jsx)($,{children:Object(h.jsx)(N,{itemsLength:t.length})}),Object(h.jsx)(W,{products:c.brandList,title:"Brand new models"})]})},fe=function(e){var t=e.products,c=A().itemsOnPage,s=Object(l.useContext)(z).isLoading,i=Object(n.c)(),r=Object(o.a)(i,2),a=r[0],j=r[1],d=a.get("sort")||"",b=a.get("query")||"",m=a.get("page")||"1",x=a.get("perPage")||c[0],g=Object(u.m)().pathname.slice(1),p=t.filter((function(e){return e.category===g})),v=f.slice(0,1),_={sort:d,query:b,page:m,perPage:x},y=Object(l.useMemo)((function(){return V(+x).map((function(e,t){return Object(h.jsx)(q,{},e+t)}))}),[]),N=Object(l.useMemo)((function(){return function(e,t){var c=t.query,s=t.sort,i=t.page,n=void 0===i?"1":i,r=t.perPage,a=void 0===r?"16":r,o=e;return null!==s&&(o=function(e,t){switch(t){case"alphabetically":return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case"cheapest":return e.sort((function(e,t){return e.price-t.price}));default:return e.sort((function(e,t){return t.year-e.year}))}}(e,s)),c&&(o=function(e,t){return e.filter((function(e){return e.name.toLocaleLowerCase().replaceAll(" ","").includes(t.toLocaleLowerCase().replaceAll(" ",""))}))}(e,c)),n&&(o=function(e,t,c){if("all"===c)return e;var s=+t*+c-+c,i=s+ +c;return e.slice(s,i)}(o,n,a)),o}(p,_)}),[_]),w=Math.ceil(p.length/+x)||1;return Object(l.useEffect)((function(){b&&a.set("perPage",b?"all":c[0]),b||"all"!==x||a.delete("perPage"),j(a)}),[b]),Object(h.jsxs)("main",{className:"products",children:[Object(h.jsx)(M,{}),v[0]===g&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{subtitle:p.length,title:g.replace(g[0],g[0].toUpperCase())}),Object(h.jsx)(Z,{})]}),(N.length>0||s)&&Object(h.jsx)("div",{className:"products__list","data-cy":"productList",children:s?y:N.map((function(e){return Object(h.jsx)(U,{product:e},e.id)}))})||Object(h.jsx)(O,{subtitle:0,title:v[0]===g?"No matches found":"Product category will be added soon..."}),0!==N.length&&Object(h.jsx)(D,{paginationLength:w})]})},ge=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M,{}),Object(h.jsx)(O,{title:"Page under development...",subtitle:0})]})},pe=function(){return Object(h.jsx)(O,{title:"Page not found",subtitle:0})},ve=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(l.useState)([]),n=Object(o.a)(i,2),j=n[0],d=n[1],b=Object(l.useState)([]),m=Object(o.a)(b,2),O=m[0],x=m[1],g=Object(l.useState)(!0),p=Object(o.a)(g,2),v=p[0],_=p[1],y=Object(l.useState)(!1),N=Object(o.a)(y,2),L=N[0],k=N[1],P=Object(u.m)().pathname;Object(l.useEffect)((function(){var e=localStorage.getItem("favourites"),t=localStorage.getItem("cart");t&&d(JSON.parse(t)),e&&x(JSON.parse(e)),re(0).then((function(){return fetch("https://mate-academy.github.io/react_phone-catalog/_new/products.json")})).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(){return k(!0)})).finally((function(){return _(!1)}))}),[]),Object(l.useEffect)((function(){return localStorage.setItem("favourites",JSON.stringify(O))}),[O]),Object(l.useEffect)((function(){return localStorage.setItem("cart",JSON.stringify(j))}),[j]);var S=f.find((function(e){return P.includes(e)}))||"phones";return Object(h.jsxs)(z.Provider,{value:{editCartItem:function(e,t){d(t?j.map((function(c){return c.id===e.id?Object(a.a)(Object(a.a)({},c),{},{quantity:c.quantity+t}):c})):function(t){return t.some((function(t){return t.id===e.id}))?t.filter((function(t){return t.id!==e.id})):[].concat(Object(r.a)(t),[e])})},cartList:j,addFavourite:function(e){x((function(t){return t.includes(e)?t.filter((function(t){return t.id!==e.id})):[].concat(Object(r.a)(t),[e])}))},favourites:O,isLoading:v},children:[Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(C,{}),Object(h.jsxs)("div",{className:"page-container",children:[L&&Object(h.jsx)("div",{className:"error",children:"Failed to download Product list"}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/",element:Object(h.jsx)(xe,{products:c})}),Object(h.jsx)(u.b,{path:"home",element:Object(h.jsx)(u.a,{to:"/",replace:!0})}),Object(h.jsx)(u.b,{children:Object(h.jsxs)(u.b,{path:S,children:[Object(h.jsx)(u.b,{index:!0,element:Object(h.jsx)(fe,{products:c})}),Object(h.jsx)(u.b,{path:":id",element:Object(h.jsx)(ue,{products:c})})]})}),Object(h.jsx)(u.b,{path:"cart",element:Object(h.jsx)(he,{})}),Object(h.jsx)(u.b,{path:"favourites",element:Object(h.jsx)(Oe,{})}),Object(h.jsx)(u.b,{path:"contacts",element:Object(h.jsx)(me,{})}),Object(h.jsx)(u.b,{path:"rights",element:Object(h.jsx)(ge,{})}),Object(h.jsx)(u.b,{path:"*",element:Object(h.jsx)(pe,{})})]})]})]}),Object(h.jsx)(w,{})]})};i.a.render(Object(h.jsx)(n.a,{children:Object(h.jsx)(ve,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.67eeb3d1.chunk.js.map